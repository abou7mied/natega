{"version":3,"sources":["../app.js"],"names":["ready","app","Vue","el","data","profile","totalDegree","key","value","fetching","from","to","orderBy","descOrder","filterBy","filterKey","columns","students","selected","mounted","results","computed","startDisabled","parseInt","sortedStudents","Object","keys","map","filter","item","indexOf","sort","a","b","f","s","fVal","sVal","localeCompare","methods","getText","column","student","text","substr","case","branch","subjectsCases","e","c","clearFilter","itemClick","seatNumber","index","push","splice","isSelected","SeatNumber","StSeatNo","document","addEventListener"],"mappings":"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","file":"app.js","sourcesContent":["function ready() {\n\n  const app = new Vue({\n    el: '#app',\n    data: {\n      profile: \"general\",\n      totalDegree: {\n        key: \"TotalDegree\",\n        value: 410,\n      },\n      fetching: false,\n      from: \"\",\n      to: \"\",\n      orderBy: \"\",\n      descOrder: false,\n      filterBy: \"\",\n      filterKey: \"\",\n      columns: {},\n      students: [],\n      selected: [],\n    },\n\n    mounted() {\n      this.students = results.students;\n\n      // this.students = results.students;\n      this.columns = results.columns;\n      this.profile = results.profile;\n      this.totalDegree = results.totalDegree;\n    },\n\n    computed: {\n      startDisabled() {\n        let from = parseInt(this.from);\n        let to = parseInt(this.to);\n        return this.fetching || !from || !to || (!(to > from) && to !== from);\n      },\n      sortedStudents() {\n        let results = Object.keys(this.students).map((key) => {\n          return this.students[key];\n        });\n\n        if (this.filterBy && this.filterKey) {\n          results = results.filter((item) => {\n            return item[this.filterBy].indexOf(this.filterKey) !== -1;\n          })\n        }\n\n        if (this.orderBy) {\n          results = results.sort((a, b) => {\n            // 'a'.localeCompare('c');\n            let f = this.descOrder ? b : a;\n            let s = !this.descOrder ? b : a;\n            const fVal = f[this.orderBy];\n            const sVal = s[this.orderBy];\n            // if (typeof fVal === \"string\") {\n            // return fVal.localeCompare(sVal);\n            return fVal.localeCompare(sVal);\n            // }\n            // return fVal - sVal;\n          });\n        }\n        return results;\n      }\n    },\n\n    methods: {\n      getText(column, student) {\n        let text = student[column];\n\n        switch (column) {\n          case \"Percentage\":\n            text = ((student[this.totalDegree.key] / this.totalDegree.value) * 100);\n            text = (text + \"\").substr(0, 5) + \"%\";\n            break;\n          case \"StudentCase\":\n            text = this.case(text);\n            break;\n          case \"Section\":\n            text = this.branch(text);\n            break;\n          default:\n            text = this.subjectsCases(text);\n            break;\n        }\n\n        return text;\n      },\n\n\n      branch(e) {\n        return \"0\" === e ? \"غير محدد\" : \"1\" === e ? \"الشعبة العلمية - علوم\" : \"2\" === e ? \"الشعبة العلمية - رياضيات\" : \"5\" === e ? \"الشعبة الأدبية\" : e\n      },\n\n\n      subjectsCases(e) {\n        return \"-1\" === e ? \"غائب\" : \"-2\" === e ? \"معفى\" : \"-3\" === e ? \"ملغي\" : \"-4\" === e ? \"غير مقرر\" : \"-6\" === e ? \"مؤجل\" : e\n      },\n\n      case(c) {\n        c = parseInt(c);\n        return (c === 1 || c === 5 ? 'ناجح' : (c === 2 ? 'دور ثان' : (c === 3 || c === 6 ? 'راسب' : (c === 12 ? 'غياب كلى' : c))))\n      },\n\n\n      sort(column) {\n        if (column === \"Percentage\")\n          column = this.totalDegree.key;\n        this.descOrder = this.orderBy === column ? !this.descOrder : true;\n        this.orderBy = column;\n      },\n      clearFilter() {\n        this.filterKey = \"\";\n      },\n      itemClick(seatNumber) {\n        seatNumber = parseInt(seatNumber);\n        const index = this.selected.indexOf(seatNumber);\n        if (index === -1) {\n          this.selected.push(seatNumber);\n        } else {\n          this.selected.splice(index, 1);\n        }\n      },\n      isSelected(student) {\n        return this.selected.indexOf(student.SeatNumber || student.StSeatNo) !== -1\n      }\n    }\n\n  });\n\n\n}\n\n\ndocument.addEventListener('DOMContentLoaded', ready);\n\n"]}